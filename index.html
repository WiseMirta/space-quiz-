<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz with Timer</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #1F2937; /* Dark gray background */
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }
    .quiz-container {
        background-color: #111827;
        padding: 20px 40px;
        border-radius: 12px;
        width: 400px;
        text-align: center;
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    button {
        margin: 10px;
        padding: 10px 20px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
    }
    button:hover {
        opacity: 0.8;
    }
    .answer-btn {
        background-color: #3B82F6; /* Blue */
        color: white;
    }
    .w-full {
        width: 100%;
    }
    .rounded-full {
        border-radius: 9999px;
    }
    .h-2 {
        height: 8px;
    }
    .transition-all {
        transition: all 1s linear;
    }
    .bg-white\/20 {
        background-color: rgba(255, 255, 255, 0.2);
    }
</style>
</head>
<body>

<div class="quiz-container">
    <div class="text-white text-center mb-2">
        Time Left: <span id="timer">30</span>s
    </div>
    <div class="w-full bg-white/20 rounded-full h-2 mb-4">
        <div id="timerBar" class="bg-green-500 h-2 rounded-full transition-all"></div>
    </div>

    <div id="question">Question will appear here</div>
    <div id="answers"></div>
    <button id="nextBtn" style="display:none;">Next Question</button>
</div>

<script>
const quiz = [
    {
        question: "What is the capital of France?",
        answers: ["Paris", "London", "Berlin", "Madrid"],
        correct: "Paris"
    },
    {
        question: "2 + 2 = ?",
        answers: ["3", "4", "5", "6"],
        correct: "4"
    },
    {
        question: "Which planet is known as the Red Planet?",
        answers: ["Earth", "Mars", "Venus", "Jupiter"],
        correct: "Mars"
    }
];

let currentQuestion = 0;
const QUESTION_TIME = 30;
let timerInterval;

function showQuestion() {
    const q = quiz[currentQuestion];
    document.getElementById('question').textContent = q.question;
    const answersDiv = document.getElementById('answers');
    answersDiv.innerHTML = '';

    q.answers.forEach(ans => {
        const btn = document.createElement('button');
        btn.textContent = ans;
        btn.className = 'answer-btn';
        btn.onclick = () => selectAnswer(ans);
        answersDiv.appendChild(btn);
    });

    document.getElementById('nextBtn').style.display = 'none';
    startTimer();
}

function startTimer() {
    clearInterval(timerInterval);
    let timeLeft = QUESTION_TIME;
    const timerBar = document.getElementById('timerBar');

    document.getElementById('timer').textContent = timeLeft;
    timerBar.style.width = '100%';
    timerBar.style.backgroundColor = '#10B981'; // Green

    timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = timeLeft;

        const percent = (timeLeft / QUESTION_TIME) * 100;
        timerBar.style.width = percent + '%';

        if (percent <= 30) timerBar.style.backgroundColor = '#F59E0B'; // Orange
        if (percent <= 10) timerBar.style.backgroundColor = '#EF4444'; // Red

        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            autoNext();
        }
    }, 1000);
}

function selectAnswer(ans) {
    clearInterval(timerInterval);
    const correct = quiz[currentQuestion].correct;
    if (ans === correct) alert('Correct!');
    else alert('Wrong! Correct answer: ' + correct);
    document.getElementById('nextBtn').style.display = 'inline-block';
}

function autoNext() {
    alert('Time up! Moving to next question.');
    document.getElementById('nextBtn').style.display = 'inline-block';
}

document.getElementById('nextBtn').addEventListener('click', () => {
    currentQuestion++;
    if (currentQuestion < quiz.length) {
        showQuestion();
    } else {
        alert('Quiz finished!');
        location.reload(); // Restart quiz
    }
});

showQuestion();
</script>

</body>
</html>
